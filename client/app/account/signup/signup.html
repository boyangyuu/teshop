<div class="container">
  <div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">
        <div id="title">
          <button ng-click="btn='btn1'" class="btn" ng-class="{green:btn=='btn1'}">采购商</button>
          <button ng-click="btn='btn2'" class="btn" ng-class="{green:btn=='btn2'}">供应商</button>
          <button ng-click="btn='btn3'" class="btn" ng-class="{green:btn=='btn3'}">个人会员</button>
        </div>
        <div class="box" ng-switch="btn">
            <h1>新用户</h1>

            <p class="lead">Not our registered customer yet?</p>
            <p>With registration with us new world of fashion, fantastic discounts and much more opens to you! The whole process will not take you more than a minute!</p>
            <p class="text-muted">If you have any questions, please feel free to <a href="/contact">contact us</a>, our customer service center is working for you 24/7.</p>

            <hr>

            <!-- 采购商开始 -->
            <form ng-submit="selectUser(selectForm)" novalidate name="selectForm" ng-switch-when="btn1">
              <h3 class="col-md-12 fo-title">账户信息</h3>
              <!-- 文件上传开始 -->
              <div class="form-group" >
                  <div class="row" >
                      <div class="col-xs-12" >
                         <div class="form-group">
                              <div class="col-sm-12">
                                  <div ng-file-drop ng-file-select ng-model="files"  ng-init="setForm(files);" class="dropzone"
                                      drag-over-class="dragover" ng-multiple="true" allow-dir="true"
                                      accept="" ng-change="changes(files)">Drop file here or click to upload</div>
                                  <div ng-no-file-drop>File Drag/Drop is not supported for this browser</div>
                                  <table class="table table-striped">
                                      <thead>
                                          <tr>
                                              <th>File Name</th>
                                              <th>File Size</th>
                                              <th>Progress</th>
                                              <th>预览</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr ng-repeat="f in fileList" style="font:smaller">
                                              <td>{{f.name}}</td>
                                              <td>{{f.size}}</td>
                                              <td><progressbar value="f.dynamic" style="margin-bottom:0px;" type="success"><b>{{f.dynamic}}%</b></progressbar></td>
                                              <td><img style="width:150px;height:auto" src="http://127.0.0.1:3000/images/{{f.result}}"></td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <!-- 文件上传结束 -->


              <!-- 用户名 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.username.$valid && submitSelect,
                                                  'has-error': selectForm.username.$invalid && submitSelect }">
                <label class="individual-label">用户名:</label>
                <input type="text" name="username" class="form-control individual-iput" ng-model="userselect.username"
                       required placeholder="给自己起一个名字吧！！"/>
                <p class="help-block" ng-show="selectForm.name.$error.required && submitSelect">
                  请输入用户名
                </p>
              </div>

              <!-- 邮件地址 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.email.$valid && submitSelect,
                                                  'has-error': selectForm.email.$invalid && submitSelect }">
                <label class="individual-label">邮箱:</label>

                <input type="email" name="email" class="form-control individual-iput" ng-model="user.email"
                       required
                       mongoose-error placeholder="请输入一个有效的邮箱地址"/>
                <p class="help-block" ng-show="selectForm.email.$error.email && submitSelect">
                  请输入一个有效的邮箱地址
                </p>
                <p class="help-block" ng-show="selectForm.email.$error.required && submitSelect">
                  请输入邮件地址
                </p>
                <p class="help-block" ng-show="selectForm.email.$error.mongoose">
                  {{ errors.email }}
                </p>
              </div>

                <!-- 密码 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.password.$valid && submitSelect,
                                                  'has-error': selectForm.password.$invalid && submitSelect }">
                <label class="individual-label">请设置密码:</label>

                <input type="password" name="password" class="form-control individual-iput" ng-model="user.password"
                       ng-minlength="3"
                       required
                       mongoose-error placeholder="请输入密码"/>
                <p class="help-block"
                   ng-show="(selectForm.password.$error.minlength || selectForm.password.$error.required) && submitSelect">
                  密码必须包含三个以上字符
                </p>
                <p class="help-block" ng-show="selectForm.password.$error.mongoose">
                  {{ errors.password }}
                </p>
              </div>

              <!-- 确认密码 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.password2.$valid && submitSelect,
                                                 'has-error': selectForm.password2.$invalid && submitSelect }">
               <label class="individual-label">请重输密码:</label>

               <input type="password" name="password2" class="form-control individual-iput" ng-model="user.password2" compare='user.password' required placeholder="请输入确认密码"/>
               <p class="help-block" ng-show="selectForm.password2.$error.compare && submitSelect">
                 两次密码输入不一致
               </p> 
             </div>

              <h3 class="col-md-12 fo-title">公司信息</h3>
              <!-- 公司名称 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.name.$valid && submitSelect,
                                                  'has-error': selectForm.name.$invalid && submitSelect }">
                <label class="individual-label">公司名称:</label>
                <input type="text" name="name" class="form-control individual-iput" ng-model="user.name"
                       required placeholder="公司注册名"/>
                <p class="help-block" ng-show="selectForm.name.$error.required && submitSelect">
                  请输入公司名称
                </p>
              </div>
              <!-- 营业执照注册号 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.name.$valid && submitSelect,
                                                  'has-error': selectForm.name.$invalid && submitSelect }">
                <label class="individual-label">用户名:</label>
                <input type="text" name="name" class="form-control individual-iput" ng-model="user.name"
                       required placeholder="给自己起一个名字吧！！"/>
                <p class="help-block" ng-show="selectForm.name.$error.required && submitSelect">
                  请输入用户名
                </p>
              </div>
              <!-- 税务登记号 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.name.$valid && submitSelect,
                                                  'has-error': selectForm.name.$invalid && submitSelect }">
                <label class="individual-label">用户名:</label>
                <input type="text" name="name" class="form-control individual-iput" ng-model="user.name"
                       required placeholder="给自己起一个名字吧！！"/>
                <p class="help-block" ng-show="selectForm.name.$error.required && submitSelect">
                  请输入用户名
                </p>
              </div>
              <!-- 组织机构代码 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.name.$valid && submitSelect,
                                                  'has-error': selectForm.name.$invalid && submitSelect }">
                <label class="individual-label">用户名:</label>
                <input type="text" name="name" class="form-control individual-iput" ng-model="user.name"
                       required placeholder="给自己起一个名字吧！！"/>
                <p class="help-block" ng-show="selectForm.name.$error.required && submitSelect">
                  请输入用户名
                </p>
              </div>

              <h3 class="col-md-12 fo-title">采购负责人信息<span>(亲，请认真填写,有交易时可以联系到你)</span></h3>
              <!-- 姓名 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.name.$valid && submitSelect,
                                                  'has-error': selectForm.name.$invalid && submitSelect }">
                <label class="individual-label">姓名:</label>
                <input type="text" name="name" class="form-control individual-iput" ng-model="user.name"
                       required placeholder="给自己起一个名字吧！！"/>
                <p class="help-block" ng-show="selectForm.name.$error.required && submitSelect">
                  请输入用户名
                </p>
              </div>
              <!-- 手机电话-->
              <div class="form-group" ng-class="{ 'has-success': selectForm.cellphone.$valid && submitSelect,
                                                  'has-error': selectForm.cellphone.$invalid && submitSelect }">
                <label class="individual-label">手机号码:</label>

                <input type="number" name="cellphone" class="form-control individual-iput" ng-model="user.cellphone"
                       required placeholder="移动电话联系方式" ng-pattern="/^1[3,5,8]\d{9}$/"/>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.required && submitSelect">
                  请输入联系方式
                </p>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.pattern && selectForm.cellphone.$dirty">
                  手机号码格式有误，请输入正确的手机号。
                </p>
              </div>
              <!-- 办公电话 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.cellphone.$valid && submitSelect,
                                                  'has-error': selectForm.cellphone.$invalid && submitSelect }">
                <label class="individual-label">办公电话:</label>

                <input type="number" name="cellphone" class="form-control individual-iput" ng-model="user.cellphone"
                       required placeholder="移动电话联系方式" ng-pattern="/^1[3,5,8]\d{9}$/"/>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.required && submitSelect">
                  请输入联系方式
                </p>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.pattern && selectForm.cellphone.$dirty">
                  手机号码格式有误，请输入正确的手机号。
                </p>
              </div>
              <!-- 邮寄地址 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.cellphone.$valid && submitSelect,
                                                  'has-error': selectForm.cellphone.$invalid && submitSelect }">
                <label class="individual-label">邮寄地址:</label>

                <input type="number" name="cellphone" class="form-control individual-iput" ng-model="user.cellphone"
                       required placeholder="移动电话联系方式" ng-pattern="/^1[3,5,8]\d{9}$/"/>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.required && submitSelect">
                  请输入联系方式
                </p>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.pattern && selectForm.cellphone.$dirty">
                  手机号码格式有误，请输入正确的手机号。
                </p>
              </div>
              <!-- 邮政编码 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.cellphone.$valid && submitSelect,
                                                  'has-error': selectForm.cellphone.$invalid && submitSelect }">
                <label class="individual-label">邮政编码:</label>

                <input type="number" name="cellphone" class="form-control individual-iput" ng-model="user.cellphone"
                       required placeholder="移动电话联系方式" ng-pattern="/^1[3,5,8]\d{9}$/"/>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.required && submitSelect">
                  请输入联系方式
                </p>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.pattern && selectForm.cellphone.$dirty">
                  手机号码格式有误，请输入正确的手机号。
                </p>
              </div>

              <h3 class="col-md-12 fo-title">手机验证<span>(亲,在提交或保存前请验证您的手机哦!)</span></h3>
              <!-- 手机号码 -->
              <div class="form-group" ng-class="{ 'has-success': selectForm.cellphone.$valid && submitSelect,
                                                  'has-error': selectForm.cellphone.$invalid && submitSelect }">
                <label class="individual-label">手机号码:</label>

                <input type="number" name="cellphone" class="form-control individual-iput" ng-model="user.cellphone"
                       required placeholder="移动电话联系方式" ng-pattern="/^1[3,5,8]\d{9}$/"/>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.required && submitSelect">
                  请输入联系方式
                </p>
                <p class="help-block individual-p" ng-show="selectForm.cellphone.$error.pattern && selectForm.cellphone.$dirty">
                  手机号码格式有误，请输入正确的手机号。
                </p>
              </div>
              <!-- 验证码 -->
              <!-- 短信验证码 -->

              <div class="text-center">
                <button type="submit" class="btn btn-primary"><i class="fa fa-user-md"></i> Sign up</button>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a class="" href="/login">Login</a>
              </div>


            </form>
            <!-- 采购商结束 -->

            <!-- 供应商开始 -->
            <form ng-submit="registerSeller(formseller)" novalidate name="formseller" ng-switch-when="btn2">
              <div class="form-group" ng-class="{ 'has-success': formseller.name.$valid && submittedshop,
                                                  'has-error': formseller.name.$invalid && submittedshop }">
                <label class="individual-label">用户名:</label>

                <input type="text" name="name" class="form-control individual-iput" ng-model="user.name"
                       required placeholder="请输入注册用户名"/>
                <p class="help-block" ng-show="formseller.name.$error.required && submittedshop">
                  请输入用户名！！
                </p>
              </div>

              <div class="form-group" ng-class="{ 'has-success': formseller.password.$valid && submittedshop,
                                                  'has-error': formseller.password.$invalid && submittedshop }">
                <label class="individual-label">密码:</label>

                <input type="password" name="password" class="form-control individual-iput" ng-model="user.password"
                       ng-minlength="3"
                       required
                       mongoose-error placeholder="请输入设置密码"/>
                <p class="help-block"
                   ng-show="(formseller.password.$error.minlength || formseller.password.$error.required) && submittedshop">
                  密码必须包含三个字符以上!!
                </p>
                <p class="help-block" ng-show="formseller.password.$error.mongoose">
                  {{ errors.password }}
                </p>
              </div>
              <div class="form-group" ng-class="{ 'has-success': formseller.password2.$valid && submittedshop,
                                                 'has-error': formseller.password2.$invalid && submittedshop }">
               <label class="individual-label">确认密码:</label>

               <input type="password" name="password2" class="form-control individual-iput" ng-model="user.password2" compare text='user.password' required placeholder="请输入确认密码"/>
               <p class="help-block" ng-show="formseller.password2.$error.compare && submittedshop">
                 两次密码输入不一致
               </p>
             </div>

              <div class="form-group" ng-class="{ 'has-success': formseller.shopName.$valid && submittedshop,
                                                  'has-error': formseller.shopName.$invalid && submittedshop }">
                <label class="individual-label">公司名称:</label>

                <input type="text" name="shopName" class="form-control individual-iput" ng-model="user.shopName"
                       required placeholder="请输入真实的用户名"/>
                <p class="help-block" ng-show="formseller.shopName.$error.required && submittedshop">
                  请输入有效的联系方式！！
                </p>

              </div>
              <div class="form-group" ng-class="{ 'has-success': formseller.shopName.$valid && submittedshop,
                                                  'has-error': formseller.shopName.$invalid && submittedshop }">
                <label class="individual-label">公司名称:</label>

                <input type="text" name="shopName" class="form-control individual-iput" ng-model="user.shopName"
                       required placeholder="请输入真实的用户名"/>
                <p class="help-block" ng-show="formseller.shopName.$error.required && submittedshop">
                  请输入有效的联系方式！！
                </p>
              </div>
                

              <div class="form-group" ng-class="{ 'has-success': formseller.phone.$valid && submittedshop,
                                                  'has-error': formseller.phone.$invalid && submittedshop }">
                <label class="individual-label">固定电话:</label>

                <input type="number" name="phone" class="form-control individual-iput" ng-model="user.phone"
                       placeholder="固定电话联系方式"/>
              </div>

              <div class="form-group" ng-class="{ 'has-success': formseller.cellphone.$valid && submittedshop,
                                                  'has-error': formseller.cellphone.$invalid && submittedshop }">
                <label class="individual-label">手机号码:</label>

                <input type="number" name="cellphone" class="form-control individual-iput" ng-model="user.cellphone"
                       required placeholder="移动电话联系方式" ng-minlength='11' ng-maxlength='11'/>
                <p class="help-block" ng-show="formseller.cellphone.$error.required && submittedshop">
                  请输入联系方式
                </p>
                <p class="help-block" ng-show="(formseller.cellphone.$error.number || formseller.cellphone.$error.minlength || formseller.cellphone.$error.maxlength) && formseller.cellphone.$dirty">
                  请输入移动电话号码（11位有效数字）
                </p>
              </div>

              <div class="form-group" ng-class="{ 'has-success': formseller.email.$valid && submittedshop,
                                                  'has-error': formseller.email.$invalid && submittedshop }">
                <label class="individual-label">电子邮箱:</label>

                <input type="email" name="email" class="form-control individual-iput" ng-model="user.email"
                       required
                       mongoose-error placeholder="请输入有效的邮件地址"/>
                <p class="help-block" ng-show="formseller.email.$error.email && submittedshop">
                  请输入有效的电子邮件地址
                </p>
                <p class="help-block" ng-show="formseller.email.$error.required && submittedshop">
                  请输入电子邮箱地址！！
                </p>
                <p class="help-block" ng-show="formseller.email.$error.mongoose">
                  {{ errors.email }}
                </p>
              </div>

              <div class="form-group" ng-class="{ 'has-success': formseller.address.$valid && submittedshop,
                                                  'has-error': formseller.address.$invalid && submittedshop }">
                <label class="individual-label">联系地址:</label>

                <input type="text" name="address" class="form-control individual-iput" ng-model="user.address"
                       required placeholder="请输入联系地址"/>
                <p class="help-block" ng-show="formseller.address.$error.required && submittedshop">
                  请输入联系地址
                </p>
              </div>
              <div class="form-group" ng-class="{ 'has-success': formseller.describe.$valid && submittedshop,
                                                  'has-error': formseller.describe.$invalid && submittedshop }">
                <label class="individual-label">产品介绍:</label>
                <textarea name="describe" cols="30" rows="10" class="form-control individual-iput" ng-model="user.describe" placeholder="请输入产品介绍/产品描述"></textarea>
                <p class="help-block" ng-show="formseller.describe.$error.required && submittedshop">
                  请输入产品描述
                </p>
              </div>

              <div class="text-center">
                    <button type="submit" class="btn btn-primary"><i class="fa fa-user-md"></i> Sign up</button>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="" href="/login">Login</a>
              </div>
            </form>
            <!-- 供应商结束 -->

            <!-- 个人用户开始 -->
            <form ng-submit="register(form)" novalidate name="form" ng-switch-when="btn3">
              <div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitteduser,
                                                  'has-error': form.name.$invalid && submitteduser }">
                <label class="individual-label">用户名:</label>

                <input type="text" name="name" class="form-control individual-iput" ng-model="user.name"
                       required placeholder="请输入注册用户名" ng-pattern="/^[\u4e00-\u9fa5]+$/"/>
                <p class="help-block individual-p individual-p" ng-show="(form.name.$error.required || form.name.$error.pattern) && submitteduser">
                  请给自己起一个好听好记的用户名吧,只能是中文汉字
                </p>
              </div>
              <div class="form-group" ng-class="{ 'has-success': form.cardId.$valid && submitteduser,
                                                  'has-error': form.cardId.$invalid && submitteduser }">
                <label class="individual-label">身份证号码:</label>

                <input type="text" name="cardId" class="form-control individual-iput" ng-model="user.cardId"
                       required placeholder="请输入注册用户名" ng-pattern="/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/"/>
                <p class="help-block individual-p individual-p" ng-show="form.cardId.$error.required && submitteduser">
                  请输入证件号码
                </p>
                <p class="help-block individual-p" ng-show="form.cardId.$error.pattern && submitteduser">
                  您输入的身份证号不正确。
                </p>
               </div>

              <div class="form-group" ng-class="{ 'has-success': form.password.$valid && submitteduser,
                                                  'has-error': form.password.$invalid && submitteduser }">
                <label class="individual-label">请设置密码:</label>

                <input type="password" name="password" class="form-control individual-iput" ng-model="user.password"
                       ng-minlength="3"
                       required
                       mongoose-error placeholder="请输入设置密码"/>
                <p class="help-block individual-p"
                   ng-show="(form.password.$error.minlength || form.password.$error.required) && submitteduser">
                  密码必须包含三个字符以上!!
                </p>
                <p class="help-block individual-p" ng-show="form.password.$error.mongoose">
                  {{ errors.password }}
                </p>
              </div>
              <div class="form-group" ng-class="{ 'has-success': form.password2.$valid && submitteduser,
                                                 'has-error': form.password2.$invalid && submitteduser }">
               <label class="individual-label">请重输密码:</label>

               <input type="password" name="password2" class="form-control individual-iput" ng-model="user.password2" compare='user.password' required placeholder="请输入确认密码"/>
               <p class="help-block individual-p" ng-show="form.password2.$error.compare && submitteduser">
                 请您再次输入,两次输入的密码要一致哦
               </p>
              </div>

              <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitteduser,
                                                  'has-error': form.email.$invalid && submitteduser }">
                <label class="individual-label">电子邮箱:</label>

                <input type="email" name="email" class="form-control individual-iput" ng-model="user.email"
                       required
                       mongoose-error placeholder="请输入有效的邮件地址"/>
                <p class="help-block individual-p" ng-show="form.email.$error.email && submitteduser">
                  请输入有效的电子邮件地址
                </p>
                <p class="help-block individual-p" ng-show="form.email.$error.required && submitteduser">
                  请输入电子邮箱地址！！
                </p>
                <p class="help-block individual-p" ng-show="form.email.$error.mongoose">
                  {{ errors.email }}
                </p>
               </div>
              <div class="form-group" ng-class="{ 'has-success': form.cellphone.$valid && submitteduser,
                                                  'has-error': form.cellphone.$invalid && submitteduser }">
                <label class="individual-label">手机号码:</label>

                <input type="number" name="cellphone" class="form-control individual-iput" ng-model="user.cellphone"
                       required placeholder="移动电话联系方式" ng-pattern="/^1[3,5,8]\d{9}$/"/>
                <p class="help-block individual-p" ng-show="form.cellphone.$error.required && submitteduser">
                  请输入联系方式
                </p>
                <p class="help-block individual-p" ng-show="form.cellphone.$error.pattern && form.cellphone.$dirty">
                  手机号码格式有误，请输入正确的手机号。
                </p>
              </div>


              <!-- <div class="form-group" ng-class="{ 'has-success': form.proving.$valid && submitteduser,
                                                  'has-error': form.proving.$invalid && submitteduser }">
                <label class="individual-label">验证码:</label>

                <input type="text" name="proving" class="form-control individual-iput" ng-model="user.proving"
                       required placeholder="请输入联系地址" />
                <img src="/api/vertify/ccap?code={{vertifycole}}"  alt="图形验证码" class="individual-img" ng-click="verBtn()">
                <p class="help-block individual-p" ng-show="form.proving.$error.required && submitteduser">
                  请输入验证码，如看不清请刷新。
                </p>
                <! <button  class="btn btn-primary" ng-click="test()"> Sign up</button> -->
              <!-- </div> --> 
              <!-- TODO: 短信验证码需要收费，列为后期做 -->
              <!-- <div class="form-group" ng-class="{ 'has-success': form.describe.$valid && submitteduser,
                                                  'has-error': form.describe.$invalid && submitteduser }">
                <label class="individual-label">短信验证码:</label>
                <input type="text" name="describe" class="form-control individual-iput" ng-model="user.describe" required placeholder="请输入短信验证码"/>
                <timerbutton show-timer="false" timeout="time">获取验证码</timerbutton>
                <p class="help-block individual-p" ng-show="form.describe.$error.required && submitteduser">
                  请输入短信验证码
                </p>
              </div> -->
              <div class="text-center">
                    <button type="submit" class="btn btn-primary"><i class="fa fa-user-md"></i> Sign up</button>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="" href="/login">Login</a>
              </div>
            </form>
            <!-- 个人用户结束 -->
        </div>
    </div>
    <div class="col-md-2"></div>

  </div>
  <hr>
</div>
