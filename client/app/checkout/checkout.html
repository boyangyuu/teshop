<div class="col-md-12">
    <ul class="breadcrumb">
        <li><a href="/">主页</a>
        </li>
        <li>结帐</li>
    </ul>
</div>

<div class="col-md-7" id="checkout">

    <div class="box">
      <form name="checkout_form" class="form-horizontal" role="form" novalidate ng-show="cart.getTotalCount() > 0">
        <ul class="nav nav-pills nav-justified">
            <li class="active disabled"><a href="#"><i class="fa fa-map-marker"></i><br>地址</a>
            </li>
            <li class="active disabled"><a href="#"><i class="fa fa-truck"></i><br>快递方式</a>
            </li>
            <li class="active disabled"><a href="#"><i class="fa fa-money"></i><br>支付方式</a>
            </li>
            <li class="active disabled"><a href="#"><i class="fa fa-eye"></i><br>订单概述</a>
            </li>
        </ul>
      <div class="panel-heading">
            <h3 class="panel-title">购物详情</h3>
      </div>
      <div class="panel-body">
          <div class="form-group">
              <label class="col-sm-3 control-label no-padding-right"> 手机号 </label>
              <div class="col-sm-7">
                 <span class="block input-icon input-icon-right">
                    <div class="input-group">
                      <div class="input-group-addon">{{customer.country.dial_code}}</div>
                      <input type="text" name="phone" class="form-control" placeholder="你的手机号" ng-model="customer.phone" required="" tabindex="1" autofocus only-numbers/>
                    </div>
                    <small class="errorMessage" ng-show="checkout_form.phone.$dirty && checkout_form.phone.$error.isCustomer"> Your phone number required.</small>
                  </span>
              </div>
          </div>
          <div class="form-group">
              <label class="col-sm-3 control-label no-padding-right"> 姓名 </label>
              <div class="col-sm-7">
                 <span class="block input-icon input-icon-right">
                      <input type="text" ng-model="customer.name" name="name" class="form-control" required placeholder="您的姓名" tabindex="2"/>
      <small class="errorMessage"
       ng-show="checkout_form.name.$dirty && checkout_form.name.$invalid"> Your name required.</small>
                  </span>
              </div>
          </div>

          <div class="form-group">
              <label class="col-sm-3 control-label no-padding-right"> 地址 </label>
              <div class="col-sm-7">
                 <span class="block input-icon input-icon-right">
                     <textarea name="address" ng-model="customer.address" class="form-control" required placeholder="您的地址"  tabindex="4"></textarea>
     <small class="errorMessage"
       ng-show="checkout_form.address.$dirty && checkout_form.address.$invalid"> We need your address to deliver.</small>
                  </span>
              </div>
          </div>
          <div class="form-group">
              <label class="col-sm-3 control-label no-padding-right"> 市 </label>
              <div class="col-sm-7">
                 <span class="block input-icon input-icon-right">
                      <input type="text" name="city" ng-model="customer.city" class="form-control" placeholder="请输入您所在的市" tabindex="5"/>
  <small class="errorMessage"
       ng-show="checkout_form.city.$dirty && checkout_form.city.$invalid"> 请输入您所在的市.</small>
                  </span>
              </div>
          </div>
          <div class="form-group">
              <label class="col-sm-3 control-label no-padding-right"> 省份 </label>
              <div class="col-sm-7">
                 <span class="block input-icon input-icon-right">
                      <input type="text" name="state" ng-model="customer.state" class="form-control" placeholder="请输入您的省份" tabindex="6"/>
  <small class="errorMessage"
       ng-show="checkout_form.state.$dirty && checkout_form.state.$invalid"> 请输入您的省份.</small>
                  </span>
              </div>
          </div>
          <div class="form-group">
              <label class="col-sm-3 control-label no-padding-right"> 邮政编码 </label>
              <div class="col-sm-7">
                 <span class="block input-icon input-icon-right">
                      <input type="text" name="zip" ng-model="customer.zip" class="form-control" placeholder="您的邮政编码" tabindex="6"/>
  <small class="errorMessage"
       ng-show="checkout_form.zip.$dirty && checkout_form.zip.$invalid"> Please select your state.</small>
                  </span>
              </div>
          </div>
      </div>
            <div class="box-footer">
                <div class="pull-left">
                    <a href="/" class="btn btn-default"><i class="fa fa-chevron-left"></i>返回主页</a>
                </div>
                <div class="pull-right">
                    <button type="submit" class="btn btn-primary" ng-click="placeOrder(cart.items,cart.getTotalPriceAfterShipping(shipping , coupon.amount));cart.checkout({paymentMethod:customer.paymentMethod, options: cart.getTotalPriceAfterShipping(shipping , coupon.amount)},true);cart.clearItems();" ng-disabled="checkout_form.$invalid" tabindex="6">支付<i class="fa fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            </form>
    </div>
    <!-- /.box -->


</div>
<!-- /.col-md-9 -->

<div class="col-md-5">

    <div class="box" id="order-summary" ng-if="cart.getTotalCount()>0">
        <div class="box-header">
            <h3>订单汇总</h3>
        </div>
        <p class="text-muted"></p>

        <div class="table-responsive">
            <table class="table">
                <tbody>
                    <tr>
                        <td>单价</td>
                        <th>{{cart.getTotalPrice() | currency:"￥"}}</th>
                    </tr>

                    <tr ng-if="shipping">
                        <td>快递费用</td>
                        <td ng-if="cart.getTotalPriceAfterShipping(shipping , coupon.amount).charge==0">
                            免费 {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).carrier}}
                        </td>
                        <td ng-if="cart.getTotalPriceAfterShipping(shipping , coupon.amount).charge>0">
                            {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).charge | currency}} {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).carrier}} <br/>
                            <small><i><a href="/">Shop</a> {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).more | currency}} more for free shipping</i></small>
                        </td>
                    </tr>
                    <tr ng-if="cart.getTotalPriceAfterShipping(shipping , coupon.amount).couponAmount">
                        <td>Coupon Discount</td>
                        <td><small>{{cart.getTotalPriceAfterShipping(shipping , coupon.amount).couponAmount | currency}}</small></td>
                    </tr>

                    <tr class="total">
                        <td>总价</td>
                        <th>
                            {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).total  | currency:"￥"}}
                        </th>
                        <!-- <th ng-if="cart.getTotalPrice() < shipping.minOrderValue">
                            {{cart.getTotalPriceAfterShipping(shipping , coupon.amount) | currency}}
                        </th> -->
                    </tr>
                </tbody>
            </table>
        </div>

    </div>

</div>
<!-- /.col-md-3 -->
